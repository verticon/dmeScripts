<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
    	<h:outputStylesheet library="default" name="css/style.css"  />
        <title>DME Scripts Demo</title>
    </h:head>

    <h:body>		
		<h3 class="title">DME Scripts Demo</h3>
		<h:outputText value="&#160;" />

		<table align="center" width="600">
		    <tr><td><h:form rendered="#{!productController.addingNew}"  class="buttons">
	 			<h:outputText value="Products:  " styleClass="tableName"/>
	    	    <h:commandButton accesskey="n" action="#{productController.addNew}" value="Add"  styleClass="demo"/>
	    	</h:form></td></tr>

		    <tr><td><h:form rendered="#{productController.addingNew}" styleClass="demo">
				<fieldset>
					<legend>New Product</legend>
			        	<h:panelGrid columns="3">
			
			            	<h:outputText value="Name"></h:outputText>
				            <h:inputText value="#{productController.newProduct.name}" id = "name" required="true" requiredMessage="Name is required"></h:inputText>
			  				<h:message for="name" errorClass="error"/>
			
			    	        <h:outputText value="Insurance"></h:outputText>
			        	    <h:selectOneMenu validatorMessage="required" value="#{productController.newProduct.insurance}">
			            	    <f:selectItems value="#{productController.insuranceCompanies}" />
			            	</h:selectOneMenu>
			
			        	</h:panelGrid>
			
			        	<h:panelGroup>
			            	<h:commandButton action="#{productController.save}" value="Save" accesskey="s"></h:commandButton>
			            	<h:commandButton action="#{productController.cancel}" value="Cancel" accesskey="c" immediate="true"></h:commandButton>
			        	</h:panelGroup>
				</fieldset>

				<h:outputText value="&#160;" />
		    </h:form></td></tr>

	    	<tr><td><h:form>
	        	<h:dataTable value="#{productController.table}" var="product" styleClass="demo" columnClasses="columns, columns">
	
	            	<h:column>
		                <f:facet name="header">
	    	                <h:column>
	        	                <h:outputText value="Name"></h:outputText>
	            	        </h:column>
	                	</f:facet>
	                	<h:outputText value="#{product.name}"></h:outputText>
	            	</h:column>
	
		            <h:column>
		                <f:facet name="header">
	    	                <h:column>
	        	                <h:outputText value="Insurance"></h:outputText>
	            	        </h:column>
	                	</f:facet>
	                	<h:outputText value="#{product.insurance}"></h:outputText>
	            	</h:column>
	
		            <h:column>
		                <f:facet name="header">
	    	                <h:column>
	        	                <h:outputText value="Actions"></h:outputText>
	            	        </h:column>
	                	</f:facet>
		                <h:panelGrid columns="1">
	    	                <h:commandLink value="delete" action="#{productController.delete}">
	        	                <f:setPropertyActionListener target="#{productController.target}" value="#{product}" />
	            	        </h:commandLink>
	                	</h:panelGrid>
	            	</h:column>
	
	        	</h:dataTable>
	
				<h:outputText value="&#160;" />
	    	</h:form></td></tr>

	 		<tr><td><h:form class="buttons">
				<h:commandButton value="Orders" action="index" styleClass="demo"/>
				<h:commandButton value="Patients" action="Patients" styleClass="demo"/>
			</h:form></td></tr>
		</table>
	</h:body>

</html>
